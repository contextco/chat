<div class="mt-32">
  <div class="flex flex-col justify-center items-center gap-2 max-w-xl mx-auto">

    <%= form_with url: search_path, method: :get, class: 'w-full flex justify-center max-w-xl' do |form| %>
      <div class="border px-3 py-1 bg-white flex items-center grow has-[:focus]:border-stone-400 border-stone-300">
        <%= heroicon 'magnifying-glass', options: { class: 'size-4' } %>
        <%= form.text_field :q, class: 'grow border-0 focus:ring-0', autofocus: true %>
      </div>
    <% end %>

    <div class="text-xs text-stone-500 flex flex-col gap-2">
      <% if current_user.documents.count > 0 %>
        <%= delimited_pluralized(current_user.documents.count, 'document') %> indexed
      <% else %>
        No documents indexed yet, start by <%= link_to 'adding an integration', settings_path, class: 'underline' %>
      <% end %>

      <div class="flex justify-center items-center gap-2 max-w-xl mx-auto">
        <% if current_user.gmail_permission_granted? %>
          <%= image_tag 'search/gmail.svg', class: 'size-4' %>
        <% end %>
        <% if current_user.google_docs_permission_granted? %>
          <%= image_tag 'search/google_docs.png', class: 'h-4' %>
        <% end %>
      </div>
    </div>
  </div>
</div>
